

<!--
 * @version:
 * @Author:  StevenJokess https://github.com/StevenJokess
 * @Date: 2020-07-31 19:18:40
 * @LastEditors:  StevenJokess https://github.com/StevenJokess
 * @LastEditTime: 2020-09-19 20:30:00
 * @Description:MT
 * @TODO::
 * @Reference:http://preview.d2l.ai/d2l-en/master/chapter_natural-language-processing-applications/sentiment-analysis-and-dataset.html
-->

# 情感分析与数据集

文本分类是自然语言处理中的一项常见任务，它将长度不确定的文本序列转化为一类文本。它类似于图像分类，这是本书中最常用的应用程序，例如18.9节。唯一的区别是，文本分类的例子不是图像，而是文本句子。

这一部分将着重于加载该领域的一个子问题的数据: 使用文本情感分类来分析文本作者的情感。这个问题也被称为情感分析，有着广泛的应用。例如，我们可以通过分析用户对产品的评论来获得用户满意度统计数据，或者分析用户对市场状况的感受，并用它来预测未来趋势。

TODO:CODE

## 情绪分析数据集

我们使用斯坦福[大电影评论数据集](https://ai.stanford.edu/~amaas/data/sentiment/)作为情感分析的数据集。这个数据集被分为两个数据集用于培训和测试目的，每个数据集包含从 IMDb 下载的25,000个电影评论。在每个数据集中，标记为“阳性”和“阴性”的注释数量相等。

### 加载数据集

我们首先将此数据集下载到“../data”路径，并将其解压缩到“../data/aclImdb”。

TODO:CODE

接下来，读取训练和测试数据集。每个例子都是一个审查，其相应的标签是: 1表示”阳性” ，0表示”阴性”。

TODO:CODE

### 令牌化和词汇表

我们使用一个单词作为标记，然后根据训练数据集创建一个字典。

TODO:CODE

### 相同长度的填充

因为评审的长度不同，所以不能直接合并成小批。在这里，我们通过截断或添加“<unk>”索引将每个注释的长度固定为500。

TODO:CODE

### 创建数据迭代器

现在，我们将创建一个数据迭代器。每次迭代将返回一小批数据。

TODO:CODE

## 把所有东西放在一起

最后，我们将把函数`load_data_imdb`保存到`d2l`中，它将返回词汇表和数据迭代器。

TODO:CODE

## 小结

* 文本分类可以将一个文本序列划分为一个类别。
* 要对文本情感进行分类，我们需要加载一个IMDb数据集并对其单词进行标记。然后我们填充用于简短检查的文本序列，并创建一个数据迭代器。

## 练习

1. 发现一个不同的自然语言数据集(比如[Amazon评论](https://snap.stanford.edu/data/web-Amazon.html))，并构建一个类似的data_loader函数，如`load_data_imdb`。
